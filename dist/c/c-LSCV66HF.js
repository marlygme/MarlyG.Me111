import{a as f}from"dist/c/c-VL5BEMEL.js";import{p as u,q as P}from"dist/c/c-FOB23LWV.js";import"dist/c/c-QJUJHHGA.js";import"dist/c/c-H3XG456C.js";import"dist/c/c-2ZZBUVOZ.js";import"dist/c/c-OHQC2GYD.js";import"dist/c/c-V4DUXOOY.js";import"dist/c/c-VLPYMQSM.js";import"dist/c/c-DZINCYD3.js";import"dist/c/c-Q3CRKGRZ.js";import"dist/c/c-C4BDQY4F.js";import"dist/c/c-TMVCK6W7.js";import"dist/c/c-XROM67F3.js";import"dist/c/c-YDOAKQEQ.js";import"dist/c/c-FUPRHP6V.js";import"dist/c/c-Z5FS66WY.js";import"dist/c/c-SS3FIXRP.js";import"dist/c/c-UTITODNG.js";import{o as E}from"dist/c/c-OL5TD5B5.js";import"dist/c/c-CNBRYZJZ.js";import"dist/c/c-PVKCUCIY.js";import"dist/c/c-OIX6SKCG.js";import"dist/c/c-CO6KMLVU.js";import"dist/c/c-XZJ2VYXB.js";import"dist/c/c-RPP4TU6I.js";import"dist/c/c-NHK3VGJW.js";import"dist/c/c-KUXJ4ZJN.js";import"dist/c/c-P35CNIM6.js";import"dist/c/c-6HIFOPOZ.js";import"dist/c/c-CSO6RHYE.js";import"dist/c/c-ZUUXMQRL.js";import"dist/c/c-CPMHSB5T.js";import"dist/c/c-VZ4KXL2M.js";import"dist/c/c-66M2M7BF.js";import"dist/c/c-IKWSEEIB.js";import"dist/c/c-SJOEUML2.js";import"dist/c/c-B3GKQWCL.js";import"dist/c/c-7GZKL2AQ.js";import"dist/c/c-PGADEMPT.js";import"dist/c/c-47OO6S5B.js";import"dist/c/c-PYVZT23Z.js";import"dist/c/c-7F52ZL35.js";import"dist/c/c-XXWOGBXD.js";import"dist/c/c-CXDHOFIC.js";import"dist/c/c-UEQDAYP3.js";import"dist/c/c-4GHHNLLN.js";import"dist/c/c-IFNSVF3O.js";import{D as p,F as d}from"dist/c/c-QLZFYGE5.js";import{a as V}from"dist/c/c-HQKWHWGO.js";import"dist/c/c-JUWGGSMC.js";import"dist/c/c-PEZMTDKX.js";import"dist/c/c-I7NIUV5Z.js";import"dist/c/c-XIJYJD2D.js";import"dist/c/c-W3KEZFVF.js";import"dist/c/c-ZA64MI4Y.js";import{d as m}from"dist/c/c-4XCUMATV.js";P();var r=m(V());E();d();function k({analytics:i,sharedState:t}){let n=(0,r.useRef)(),{ref:y,inView:v}=f(),o=t.useSnapshot(),c=(0,r.useCallback)(e=>{e instanceof CustomEvent&&i?.sendEvent("video_start",e.detail)},[i]),l=(0,r.useCallback)(e=>{e instanceof CustomEvent&&i?.sendEvent("video_complete",e.detail)},[i]),a=(0,r.useCallback)(()=>{t.isReady=!0},[t]);(0,r.useEffect)(()=>{let e=n.current?.events;return e&&e.addEventListener("start",c),e&&e.addEventListener("stop",l),e&&e.addEventListener("ready",a),()=>{e&&e.removeEventListener("start",c),e&&e.removeEventListener("stop",l),e&&e.removeEventListener("ready",a)}},[l,c,a]),(0,r.useEffect)(()=>{t.player=n.current});let s=!t.widget.controls;return(0,r.useEffect)(()=>{s&&n.current&&t.widget.custom_controls?.playbackType==="Click"&&o.clickCount>0&&n.current.toggle()},[o.clickCount,s]),(0,r.useEffect)(()=>{s&&n.current&&t.widget.custom_controls?.playbackType==="Hover"&&(t.isPointerIn===!0&&n.current.play(),t.isPointerIn===!1&&n.current.stop())},[o.isPointerIn,s]),p(u,{ref:y,widget:o.widget,isTabVisible:o.isStarted,isVisible:v,useLqip:!1,playerRef:n,pageScale:o.pageScale,renderSimpleVersion:o.renderSimpleVersion,controlsCursorStyle:o.controlsCursorStyle})}export{k as VideoPlayerViewerOld};
